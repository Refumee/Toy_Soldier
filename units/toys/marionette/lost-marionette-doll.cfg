[unit_type]
    id=Marionette Doll
    name= _ "Marionette Doll"
    race=toy
    image="units/lost-toy/lost-marionette-dancer-doll.png"
    hitpoints=45
    movement_type=toysmallfoot
    movement=6
    experience=83
    level=3
    alignment=neutral
    advances_to=Marionette Juxtaposer
    cost=32
    usage=mixed fighter
    
    description= _ ""
    die_sound=skeleton-big-die.ogg
    {DEFENSE_ANIM "units/lost-toy/lost-marionette-dancer-doll.png" "units/lost-toy/lost-marionette-dancer-doll.png" {SOUND_LIST:SKELETON_BIG_HIT} }
	
    [attack]
        name=claw
        description=_"claw"
        icon=attacks/claws-undead.png
        type=blade
        range=melee
        damage=6
        number=4
    [/attack]
	
    [attack]
        name=faerie powder
        description=_"faerie powder"
        type=arcane
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        range=ranged
        damage=7
        number=3
        icon=attacks/curse.png
    [/attack]

    [attack_anim]
        [filter_attack]
            name=claw
        [/filter_attack]
        offset=0.0~-0.1,-0.1~0.4,0.4~0.5,0.5~0.4,0.4~0.2,0.2~0.0
        start_time=-300
        [frame]
            image="units/lost-toy/lost-marionette-dancer-doll.png:[100*2,250]"
        [/frame]
		
		[if]
			hits=yes
			[missile_frame]
				halo=strikegfx/bigrip-[1~5].png~BLEND(255,255,255,1)~SCALE(40,40):[50*5]
				offset=1.0
				halo_x=-22~0
				halo_y=-5
				auto_vflip=false
			[/missile_frame]
			
			[missile_frame]
				halo=strikegfx/bigrip-[1~5].png~FL(horiz)~BLEND(255,255,255,1)~SCALE(40,40):[40*5]
				offset=1.0
				halo_x=22~0
				halo_y=-3
				auto_vflip=false
			[/missile_frame]
			

		[/if]
		
        {SOUND:HIT_AND_MISS claws.ogg {SOUND_LIST:MISS} -100}
        [frame]
            image="units/lost-toy/lost-marionette-dancer-doll.png:100"
        [/frame]
    [/attack_anim]
	

    [attack_anim]
        [filter_attack]
            name=faerie powder
        [/filter_attack]
		
            missile_start_time=-200
			
		[frame]
			image="units/lost-toy/lost-marionette-dancer-doll.png:[200*3]"
		[/frame]
			
			[if]
				hits=yes
				[missile_frame]
					duration=200
					image="projectiles/whitemissile-n.png"
					image_diagonal="projectiles/whitemissile-ne.png"
					sound=magicmissile.wav
					offset=0.0~0.8
					image_mod=~GS()~R(190)~G(45)~B(11)
				[/missile_frame]
				[missile_frame]
					duration=400
					halo="projectiles/whitemissile-impact-[1~8].png:50"
					offset=0.8,0.92,0.94,0.96,0.98,1.0,1.02,1.04
					halo_mod=~GS()~R(160)~G(45)~B(11)
				[/missile_frame]
			[/if]
			[else]
				hits=no
				[missile_frame]
					duration=200
					image="projectiles/whitemissile-n.png"
					image_diagonal="projectiles/whitemissile-ne.png"
					sound=magicmissile.wav
					offset=0.0~0.8
					alpha=.8~0.0:200
					image_mod=~GS()~R(190)~G(45)~B(11)
				[/missile_frame]
			[/else]
			
		[halo_frame]
			duration=420
			halo=halo/saurian-magic-halo-[1~7].png:60
			auto_vflip=no
			halo_mod=~GS()~R(160)~G(45)~B(11)
		[/halo_frame]
    [/attack_anim]
	
    [standing_anim]
        start_time=0
        [frame]
            image="units/lost-toy/lost-marionette-dancer-doll.png:4000"
			x=5.0~-1.0:1400,-1.0~2.0:600,2.0~-1.0:600,-1.0~5.0:1400
        [/frame]
    [/standing_anim]
[/unit_type]
